<!doctype html>
<html lang="si">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>888STRZ ‚Äî CRASH & APPLE (Submit to Telegram)</title>
<style>
  :root{--line:rgba(0,0,0,.15);--accent:#111}
  *{box-sizing:border-box}
  body{margin:0;min-height:100vh;font-family:Arial,Helvetica,sans-serif;background:#061333;display:flex;justify-content:center;padding:22px;color:#111}
  .wrap{width:900px;max-width:96%}
  .section{border:1px solid var(--line);border-radius:14px;padding:18px;margin-bottom:18px}
  /* Requested backgrounds */
  #crash{background:linear-gradient(180deg,#ffecb3,#ffb300)} /* ‡∂ö‡∑Ñ ‡∂≠‡∑ê‡∂∂‡∑í‡∂Ω‡∑í */
  #apple{background:linear-gradient(180deg,#b388ff,#ff4d6d)} /* ‡∂ª‡∂≠‡∑î-‡∂Ø‡∂∏‡∑ä */
  .head{display:flex;gap:12px;align-items:center;margin-bottom:6px}
  .logo{width:60px;height:60px;border-radius:12px;display:grid;place-items:center;font-weight:800}
  .logo.crash{background:linear-gradient(135deg,#ff3366,#ffcc66);color:#121212}
  .logo.apple{background:linear-gradient(135deg,#e6f4ea,#b8f2ce);color:#042018}
  h1{margin:0;font-size:22px;font-weight:900}
  .sub{margin-top:4px;font-size:14px;color:#000;font-weight:700}
  .note{margin:10px 0;padding:12px;border:1px dashed #000;border-radius:12px;background:rgba(255,255,255,.55);font-weight:700}
  label{display:block;margin-top:10px;font-size:14px;font-weight:700}
  input[type=text],input[type=tel],input[type=email]{width:100%;padding:12px;border-radius:10px;border:1px solid #333;background:#fff;color:#000;margin-top:6px;font-weight:600}
  .bank{background:rgba(255,255,255,.7);padding:12px;border-radius:12px;color:#000;font-weight:700}
  pre{margin:0;white-space:pre-wrap;word-wrap:break-word}
  .copy{margin-top:8px;padding:10px 12px;border:0;border-radius:10px;background:linear-gradient(90deg,#ff3366,#ff66b3);color:#fff;font-weight:800;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.25)}
  .upload{padding:12px;border:1px dashed #000;border-radius:12px;background:rgba(255,255,255,.55);margin-top:6px}
  .btn{margin-top:12px;padding:12px 16px;border-radius:12px;border:0;background:linear-gradient(90deg,#0066ff,#00d4ff);color:#fff;font-weight:900;cursor:pointer}
  .to-apple{background:linear-gradient(90deg,#34d399,#059669)}
  .helper{font-size:13px;color:#000;margin-top:6px;font-weight:600}
  .counter{background:rgba(255,255,255,.55);padding:14px;border-radius:10px;text-align:center;border:1px solid rgba(0,0,0,.1);margin-top:12px}
  .num{font-size:36px;font-weight:900}
  .resultBox{margin-top:12px;padding:12px;border-radius:10px;background:rgba(255,255,255,.9);color:#000;font-weight:800}
  .link{display:block;word-break:break-all;margin-top:8px}
</style>
</head>
<body>
  <main class="wrap">

    <!-- ===== CRASH SECTION ===== -->
    <section id="crash" class="section">
      <div class="head">
        <div class="logo crash">BYTEX</div>
        <div>
          <h1>888STRZ CRASH HACK APP AND KEY BUY</h1>
          <div class="sub">Seller: K N SHASHIPRIYA ‚Äî Embilipitiya ‚Äî 072 132 6398</div>
        </div>
      </div>

      <div class="note">
        888STRZ CRASH ‡∑É‡∑Ñ KEY ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂±‡∂∏‡∑ä ‡∂¥‡∑Ñ‡∂≠ ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ß ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂ß‡∑ä‚Äç‡∂ª‡∑è‡∂±‡∑ä‡∑É‡∂ª‡∑ä ‡∂ö‡∂ª
        <b>PLAYER ID</b>, <b>‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂±</b>, <b>GMAIL</b> ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±. ‡∂Ö‡∑É‡∂≠‡∑ä‚Äç‡∂∫ ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂±‡∑ú‡∂Ø‡∑ô‡∂±‡∑ä‡∂±.
      </div>

      <div class="bank">
<pre id="bankCrash">Account Number : 050020447732
HNB BANK
Embilipitiya Branch (535)
Account Holder : MR K N SHASHIPRIYA</pre>
        <button class="copy" id="copyCrash">Copy Account Details</button>
      </div>

      <div class="counter">
        <div class="num" id="crashCounter">100</div>
        <div>‡∂∏‡∑í‡∂Ω‡∂Ø‡∑ì ‡∂ú‡∂≠‡∑ä ‡∑É‡∑è‡∂∏‡∑è‡∂¢‡∑í‡∂ö‡∂∫‡∂±‡∑ä / Purchased members</div>
      </div>

      <label>PLAYER ID</label>
      <input id="pCrash" placeholder="‡∂î‡∂∂‡∂ú‡∑ö Player ID" required>
      <label>WhatsApp/Telephone</label>
      <input id="phCrash" placeholder="0721326398 (or +94...)" required>
      <label>Gmail Address</label>
      <input id="emCrash" type="email" placeholder="example@gmail.com" required>

      <label>PAYMENT RECEIPT (Upload)</label>
      <div class="upload">
        <input id="rcCrash" type="file" accept="image/*,application/pdf">
        <div id="infoCrash" class="helper">No file chosen</div>
      </div>

      <button id="btnCrash" class="btn">SUBMIT NOW</button>
      <button id="toApple" class="btn to-apple" type="button">Open APPLE Section ‚Üì</button>
      <div id="msgCrash" class="helper"></div>

      <!-- result area for crash link/key -->
      <div id="crashResult" class="resultBox" style="display:none">
        <div>üîì CRASH ACCESS READY:</div>
        <a id="crashLink" class="link" href="#" target="_blank"></a>
        <div id="crashKey" style="margin-top:8px;font-weight:900"></div>
      </div>
    </section>

    <!-- ===== APPLE SECTION ===== -->
    <section id="apple" class="section">
      <div class="head">
        <div class="logo apple">APPLE</div>
        <div>
          <h1>888STRZ APPLE HACK APP AND KEY</h1>
          <div class="sub">Seller: K N SHASHIPRIYA ‚Äî Embilipipitiya ‚Äî 072 132 6398</div>
        </div>
      </div>

      <div class="note">APPLE HACK ‡∑É‡∑Ñ KEY ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß‡∂Ø ‡∂ë‡∂∏ ‡∂ú‡∑í‡∂´‡∑î‡∂∏ ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</div>

      <div class="bank">
<pre id="bankApple">Account Number : 050020447732
HNB BANK
Embilipitiya Branch (535)
Account Holder : MR K N SHASHIPRIYA</pre>
        <button class="copy" id="copyApple">Copy Account Details</button>
      </div>

      <div class="counter">
        <div class="num" id="appleCounter">100</div>
        <div>‡∂∏‡∑í‡∂Ω‡∂Ø‡∑ì ‡∂ú‡∂≠‡∑ä ‡∑É‡∑è‡∂∏‡∑è‡∂¢‡∑í‡∂ö‡∂∫‡∂±‡∑ä / Purchased members</div>
      </div>

      <label>PLAYER ID</label>
      <input id="pApple" placeholder="‡∂î‡∂∂‡∂ú‡∑ö Player ID" required>
      <label>WhatsApp/Telephone</label>
      <input id="phApple" placeholder="0721326398 (or +94...)" required>
      <label>Gmail Address</label>
      <input id="emApple" type="email" placeholder="example@gmail.com" required>

      <label>PAYMENT RECEIPT (Upload)</label>
      <div class="upload">
        <input id="rcApple" type="file" accept="image/*,application/pdf">
        <div id="infoApple" class="helper">No file chosen</div>
      </div>

      <button id="btnApple" class="btn">SUBMIT NOW</button>
      <div id="msgApple" class="helper"></div>

      <!-- result area for apple link/key -->
      <div id="appleResult" class="resultBox" style="display:none">
        <div>üîì APPLE ACCESS:</div>
        <a id="appleLink" class="link" href="#" target="_blank"></a>
        <div id="appleKey" style="margin-top:8px;font-weight:900"></div>
      </div>
    </section>

  </main>

<script>
/* ================== CONFIG (EDIT THESE) ================== */
// ‚ö†Ô∏è Exposing token in HTML is insecure. Prefer a backend (recommended).
// Replace with your real values if testing only:
const TELEGRAM_BOT_TOKEN = "8249357052:AAFbDtIMh_LrbbOmeNN21kysBeATxxOSi5Y";
const TELEGRAM_CHAT_ID   = "7465787436";
/* ======================================================== */

// Copy buttons
document.getElementById('copyCrash').onclick=()=>navigator.clipboard.writeText(document.getElementById('bankCrash').innerText);
document.getElementById('copyApple').onclick=()=>navigator.clipboard.writeText(document.getElementById('bankApple').innerText);

// File info labels
function wireFile(id,info){const i=document.getElementById(id),n=document.getElementById(info);
  i.addEventListener('change',e=>{const f=e.target.files[0];n.textContent=f?`${f.name} (${Math.round(f.size/1024)} KB)`:'No file chosen';});
}
wireFile('rcCrash','infoCrash'); wireFile('rcApple','infoApple');

// Very slow counters (every 60s) - keep original logic
function superSlowCounter(id,start,end,steps=[2,5,4,6,8],intervalSec=60){
  const el=document.getElementById(id); let v=start, i=0;
  function tick(){ let inc; i<steps.length ? inc=steps[i++] : inc=Math.floor(Math.random()*6)+1;
    v=Math.min(end,v+inc); el.textContent=v; if(v>=end) return; setTimeout(tick,intervalSec*1000); }
  el.textContent=start; setTimeout(tick,intervalSec*1000);
}
window.addEventListener('load', ()=>{
  superSlowCounter('crashCounter',100,1000,[2,5,4,6,8],60);
  setTimeout(()=>superSlowCounter('appleCounter',100,1000,[2,5,4,6,8],60),10000);
});

// Smooth scroll to Apple
document.getElementById('toApple').onclick=()=>document.getElementById('apple').scrollIntoView({behavior:'smooth',block:'start'});

// ===== Telegram helpers =====
const API = (method)=>`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/${method}`;

// send text
async function tgSendMessage(text){
  const res = await fetch(API('sendMessage'),{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({chat_id: TELEGRAM_CHAT_ID, text})
  });
  return res.json();
}

// send file (image/pdf)
async function tgSendDocument(file, caption){
  const fd = new FormData();
  fd.append('chat_id', TELEGRAM_CHAT_ID);
  fd.append('document', file, file.name);
  if (caption) fd.append('caption', caption);
  const res = await fetch(API('sendDocument'), { method:'POST', body: fd });
  return res.json();
}

// build message text (use simple prefixes 'CRASH' or 'APPLE')
function buildMessage(prefix){
  if(prefix==='crash'){
    const p = document.getElementById('pCrash').value || '';
    const ph= document.getElementById('phCrash').value || '';
    const em= document.getElementById('emCrash').value || '';
    return `CRASH SUBMISSION\n\nPlayer ID: ${p}\nPhone: ${ph}\nEmail: ${em}`;
  } else {
    const p = document.getElementById('pApple').value || '';
    const ph= document.getElementById('phApple').value || '';
    const em= document.getElementById('emApple').value || '';
    return `APPLE SUBMISSION\n\nPlayer ID: ${p}\nPhone: ${ph}\nEmail: ${em}`;
  }
}

// show result helpers
function showCrashResult(){
  const box = document.getElementById('crashResult');
  const a = document.getElementById('crashLink');
  const k = document.getElementById('crashKey');
  a.href = 'https://www.thanosx.icu/appv2/';
  a.textContent = 'https://www.thanosx.icu/appv2/';
  k.textContent = 'KEY: F57D6-1F0B2-C077A-C3DD5';
  box.style.display='block';
  // optionally scroll into view
  box.scrollIntoView({behavior:'smooth',block:'center'});
}
function showAppleResult(){
  const box = document.getElementById('appleResult');
  const a = document.getElementById('appleLink');
  const k = document.getElementById('appleKey');
  a.href = 'https://thanosx.icu/apple/';
  a.textContent = 'https://thanosx.icu/apple/';
  k.textContent = 'KEY: 3A5F6-53C88-46E59-60580';
  box.style.display='block';
  box.scrollIntoView({behavior:'smooth',block:'center'});
}

// generic submit
async function handleSubmit(prefix, fileInputId, msgId){
  const msgEl = document.getElementById(msgId);
  // pick elements depending on prefix
  const player = (prefix==='crash') ? document.getElementById('pCrash').value.trim() : document.getElementById('pApple').value.trim();
  const phone  = (prefix==='crash') ? document.getElementById('phCrash').value.trim() : document.getElementById('phApple').value.trim();
  const email  = (prefix==='crash') ? document.getElementById('emCrash').value.trim() : document.getElementById('emApple').value.trim();
  const btn = (prefix==='crash') ? document.getElementById('btnCrash') : document.getElementById('btnApple');

  if(!player || !phone || !email){ msgEl.textContent='Player ID, Phone, Email ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫‡∂∫‡∑í.'; return; }

  // disable button to avoid spamming
  btn.disabled = true;
  btn.style.opacity = '0.6';
  msgEl.textContent='Sending to Telegram...';

  const text = buildMessage(prefix);
  try{
    // send message
    const sent = await tgSendMessage(text);
    // basic check for ok
    if(!sent || sent.ok===false){ throw new Error('tg sendMessage failed'); }

    // if file provided, send document
    const file = document.getElementById(fileInputId).files[0];
    if(file){
      const docRes = await tgSendDocument(file, `${prefix.toUpperCase()} receipt for ${player}`);
      if(!docRes || docRes.ok===false){
        // non-fatal: still proceed but inform
        console.warn('document send failed', docRes);
      }
    }

    msgEl.textContent='‚úÖ Sent to Telegram.';

    // Now show keys/links:
    if(prefix==='apple'){
      // show immediately
      showAppleResult();
      // re-enable button after short delay so user can update if needed
      setTimeout(()=>{ btn.disabled=false; btn.style.opacity='1'; }, 5000);
    } else {
      // CRASH: show after 2 minutes (120000 ms)
      msgEl.textContent='‚úÖ Sent. CRASH link & key will display in 2 minutes.';
      // clear any previous display first
      document.getElementById('crashResult').style.display='none';
      setTimeout(()=>{
        showCrashResult();
        msgEl.textContent='üîì CRASH link & key displayed.';
        // re-enable submit button
        btn.disabled=false; btn.style.opacity='1';
      }, 120000); // 120000 ms = 2 minutes
    }

  }catch(e){
    console.error(e);
    msgEl.textContent='‚ùå Error sending to Telegram.';
    btn.disabled = false;
    btn.style.opacity = '1';
  }
}

// wire buttons
document.getElementById('btnCrash').addEventListener('click', ()=>handleSubmit('crash','rcCrash','msgCrash'));
document.getElementById('btnApple').addEventListener('click', ()=>handleSubmit('apple','rcApple','msgApple'));

</script>
</body>
  </html>  <main class="wrap">

    <!-- ===== CRASH SECTION ===== -->
    <section id="crash" class="section">
      <div class="head">
        <div class="logo crash">BYTEX</div>
        <div>
          <h1>888STRZ CRASH HACK APP AND KEY BUY</h1>
          <div class="sub">Seller: K N SHASHIPRIYA ‚Äî Embilipitiya ‚Äî 072 132 6398</div>
        </div>
      </div>

      <div class="note">
        888STRZ CRASH ‡∑É‡∑Ñ KEY ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ ‡∂±‡∂∏‡∑ä ‡∂¥‡∑Ñ‡∂≠ ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ß ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂ß‡∑ä‚Äç‡∂ª‡∑è‡∂±‡∑ä‡∑É‡∂ª‡∑ä ‡∂ö‡∂ª
        <b>PLAYER ID</b>, <b>‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂±</b>, <b>GMAIL</b> ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±. ‡∂Ö‡∑É‡∂≠‡∑ä‚Äç‡∂∫ ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂±‡∑ú‡∂Ø‡∑ô‡∂±‡∑ä‡∂±.
      </div>

      <div class="bank">
<pre id="bankCrash">Account Number : 050020447732
HNB BANK
Embilipitiya Branch (535)
Account Holder : MR K N SHASHIPRIYA</pre>
        <button class="copy" id="copyCrash">Copy Account Details</button>
      </div>

      <div class="counter">
        <div class="num" id="crashCounter">100</div>
        <div>‡∂∏‡∑í‡∂Ω‡∂Ø‡∑ì ‡∂ú‡∂≠‡∑ä ‡∑É‡∑è‡∂∏‡∑è‡∂¢‡∑í‡∂ö‡∂∫‡∂±‡∑ä / Purchased members</div>
      </div>

      <label>PLAYER ID</label>
      <input id="pCrash" placeholder="‡∂î‡∂∂‡∂ú‡∑ö Player ID" required>
      <label>WhatsApp/Telephone</label>
      <input id="phCrash" placeholder="0721326398 (or +94...)" required>
      <label>Gmail Address</label>
      <input id="emCrash" type="email" placeholder="example@gmail.com" required>

      <label>PAYMENT RECEIPT (Upload)</label>
      <div class="upload">
        <input id="rcCrash" type="file" accept="image/*,application/pdf">
        <div id="infoCrash" class="helper">No file chosen</div>
      </div>

      <button id="btnCrash" class="btn">SUBMIT NOW</button>
      <button id="toApple" class="btn to-apple" type="button">Open APPLE Section ‚Üì</button>
      <div id="msgCrash" class="helper"></div>
    </section>

    <!-- ===== APPLE SECTION ===== -->
    <section id="apple" class="section">
      <div class="head">
        <div class="logo apple">APPLE</div>
        <div>
          <h1>888STRZ APPLE HACK APP AND KEY</h1>
          <div class="sub">Seller: K N SHASHIPRIYA ‚Äî Embilipitiya ‚Äî 072 132 6398</div>
        </div>
      </div>

      <div class="note">APPLE HACK ‡∑É‡∑Ñ KEY ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß‡∂Ø ‡∂ë‡∂∏ ‡∂ú‡∑í‡∂´‡∑î‡∂∏ ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</div>

      <div class="bank">
<pre id="bankApple">Account Number : 050020447732
HNB BANK
Embilipitiya Branch (535)
Account Holder : MR K N SHASHIPRIYA</pre>
        <button class="copy" id="copyApple">Copy Account Details</button>
      </div>

      <div class="counter">
        <div class="num" id="appleCounter">100</div>
        <div>‡∂∏‡∑í‡∂Ω‡∂Ø‡∑ì ‡∂ú‡∂≠‡∑ä ‡∑É‡∑è‡∂∏‡∑è‡∂¢‡∑í‡∂ö‡∂∫‡∂±‡∑ä / Purchased members</div>
      </div>

      <label>PLAYER ID</label>
      <input id="pApple" placeholder="‡∂î‡∂∂‡∂ú‡∑ö Player ID" required>
      <label>WhatsApp/Telephone</label>
      <input id="phApple" placeholder="0721326398 (or +94...)" required>
      <label>Gmail Address</label>
      <input id="emApple" type="email" placeholder="example@gmail.com" required>

      <label>PAYMENT RECEIPT (Upload)</label>
      <div class="upload">
        <input id="rcApple" type="file" accept="image/*,application/pdf">
        <div id="infoApple" class="helper">No file chosen</div>
      </div>

      <button id="btnApple" class="btn">SUBMIT NOW</button>
      <div id="msgApple" class="helper"></div>
    </section>

  </main>

<script>
/* ================== CONFIG (EDIT THESE) ================== */
// ‚ö†Ô∏è Exposing token in HTML is insecure. Prefer a backend.
// Replace with your real values:
const TELEGRAM_BOT_TOKEN = "8249357052:AAFbDtIMh_LrbbOmeNN21kysBeATxxOSi5Y";     // e.g. 8249357052:AA....Si5Y
const TELEGRAM_CHAT_ID   = "7465787436";                // your chat id
/* ======================================================== */

// Copy buttons
document.getElementById('copyCrash').onclick=()=>navigator.clipboard.writeText(document.getElementById('bankCrash').innerText);
document.getElementById('copyApple').onclick=()=>navigator.clipboard.writeText(document.getElementById('bankApple').innerText);

// File info labels
function wireFile(id,info){const i=document.getElementById(id),n=document.getElementById(info);
  i.addEventListener('change',e=>{const f=e.target.files[0];n.textContent=f?`${f.name} (${Math.round(f.size/1024)} KB)`:'No file chosen';});
}
wireFile('rcCrash','infoCrash'); wireFile('rcApple','infoApple');

// Very slow counters (every 60s: 100‚Üí102‚Üí107‚Üí111‚Üí117‚Üí125 then +1..+6)
function superSlowCounter(id,start,end,steps=[2,5,4,6,8],intervalSec=60){
  const el=document.getElementById(id); let v=start, i=0;
  function tick(){ let inc; i<steps.length ? inc=steps[i++] : inc=Math.floor(Math.random()*6)+1;
    v=Math.min(end,v+inc); el.textContent=v; if(v>=end) return; setTimeout(tick,intervalSec*1000); }
  el.textContent=start; setTimeout(tick,intervalSec*1000);
}
window.addEventListener('load', ()=>{
  superSlowCounter('crashCounter',100,1000,[2,5,4,6,8],60);
  setTimeout(()=>superSlowCounter('appleCounter',100,1000,[2,5,4,6,8],60),10000);
});

// Smooth scroll to Apple
document.getElementById('toApple').onclick=()=>document.getElementById('apple').scrollIntoView({behavior:'smooth',block:'start'});

// ===== Telegram helpers =====
const API = (method)=>`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/${method}`;

// send text
async function tgSendMessage(text){
  const res = await fetch(API('sendMessage'),{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({chat_id: TELEGRAM_CHAT_ID, text})
  });
  return res.json();
}

// send file (image/pdf)
async function tgSendDocument(file, caption){
  const fd = new FormData();
  fd.append('chat_id', TELEGRAM_CHAT_ID);
  fd.append('document', file, file.name);
  if (caption) fd.append('caption', caption);
  const res = await fetch(API('sendDocument'), { method:'POST', body: fd });
  return res.json();
}

// build message text
function buildMessage(prefix){
  const p = document.getElementById(prefix+'Player').value || '';
  const ph= document.getElementById(prefix+'Phone').value || '';
  const em= document.getElementById(prefix+'Email').value || '';
  return `${prefix.toUpperCase()} SUBMISSION\n\nPlayer ID: ${p}\nPhone: ${ph}\nEmail: ${em}`;
}

// generic submit
async function handleSubmit(prefix, fileInputId, msgId){
  const msgEl = document.getElementById(msgId);
  const player = document.getElementById(prefix+'Player').value.trim();
  const phone  = document.getElementById(prefix+'Phone').value.trim();
  const email  = document.getElementById(prefix+'Email').value.trim();
  if(!player || !phone || !email){ msgEl.textContent='Player ID, Phone, Email ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫‡∂∫‡∑í.'; return; }

  msgEl.textContent='Sending to Telegram...';
  const text = buildMessage(prefix);
  try{
    await tgSendMessage(text);
    const file = document.getElementById(fileInputId).files[0];
    if(file){ await tgSendDocument(file, `${prefix.toUpperCase()} receipt for ${player}`); }
    msgEl.textContent='‚úÖ Sent to Telegram.';
  }catch(e){
    msgEl.textContent='‚ùå Error sending to Telegram.';
  }
}

// wire buttons
document.getElementById('btnCrash').addEventListener('click', ()=>handleSubmit('crash','rcCrash','msgCrash'));
document.getElementById('btnApple').addEventListener('click', ()=>handleSubmit('apple','rcApple','msgApple'));

// map ids used by buildMessage
document.getElementById('pCrash').id='crashPlayer';
document.getElementById('phCrash').id='crashPhone';
document.getElementById('emCrash').id='crashEmail';
document.getElementById('pApple').id='applePlayer';
document.getElementById('phApple').id='applePhone';
document.getElementById('emApple').id='appleEmail';
</script>
</body>
</html>
